现在有五款主要的浏览器：Internet Explorer、Firefox、Safari、Chrome和Opera。
浏览器的主要功能是展现你所需要的web资源，它从服务器端请求资源并显示在浏览器窗口上，
资源格式一般为html，但是也可以是pdf，image或者其他的格式。
资源的地址是由用户同规格URI(统一资源定位符)来指定的。
浏览器的主要结构如下：
  1.用户界面-包括地址栏、后退/前进按钮、书签菜单等
  2.浏览器引擎-询问和操作渲染引擎的接口
  3.渲染引擎-负责展现所请求的内容，比如如果请求的是html，它就负责解析html和css并且在屏幕上曾宪解析后的内容。
  4.网络模块-网络请求用，比如http请求。它有跨平台的接口以及对应于每个平台的底层实现。
  5.UI后端-用来绘制基本构件，如下拉框和窗口。UI后端暴露出一个平台无关性的公共接口，底层的它使用操作系统的UI方法。
  6.javascript解释器-用来解析和执行javascript代码。
  7.数据存储-这是一个可存储的曾。浏览器需要在硬盘上保存各种数据，比如cookies。

我们提到的浏览器-Firefox、Charome和Safari基于两个渲染引擎。
Firefox使用Geokeo——一个Mozilla自制的渲染引擎，
Safari和Chrome都是用webkit。
Webkit是源于linux平台的一个开源渲染引擎。

渲染引擎开始会从网络模块获取要请求的文档内容,一般会以8K大小的区块获取.
渲染引擎开始解析HTML文档,并且把标签转换成"内容树"上的DOM节点,然后会解析样式,包括外部的css文件和style元素里的数据.
这些样式信息将会和HTML中视觉性的属性组合在一起创建另一个树--渲染树
渲染树由带有颜色和大小等视觉属性的矩形区域构成,这些矩形区域按它们将要显示在屏幕上的顺序排列.
渲染树构造完成后,进入到布局阶段,会把每个节点精确地调整到它应该在屏幕上出现的位置行.
下一步是绘制,渲染树将会被遍历,每个节点都会通过UI后端层来绘制.
为了有更好的用户体验,渲染引擎将会尽可能早的把内容在屏幕上显示出来,不会等到所有的HTML都被解析完才开始建造和布局渲染树,当进程还在继续解析源源不断的来自网络的内容的时候,一部分内容会被解析并且显示出来.

解析文档的意思是把文档转成有意义的一些结构-代码能够理解并且使用的东西,解析后的结果通常是一个能表现文档结构的节点树,叫做解析树或者语法树

解析是根据文档所遵循的语法规则--文档被写成的语言或者格式,每种格式都必须有由词典和语法规则组成的确定的语法,这被叫做上下文无关语法

解析可以分成两个子过程--词法分析和语法分析

词法分析是把输入信息分成多个子串的过程,这些子串是这个语言的词典--有效构造块的集合,在人类语言中包括在词典中出现的所有词汇.

语法分析是语言语法规则的应用

解析器通常把这个工作分给两个部件--负责把输入信息分成有效子串的词法分析器(有时被叫做编译器),以及负责根据语法规则分析文档结构并构建解析树的解析器,词法分析器知道怎么去分解诸如空格和换行等无关紧要的字符

这个解析过程是迭代的.解析器通常会向词法分析器请求新的子串然后试图用某些语法规则来匹配这个子串,
如果匹配了,会在解析树上加上这个子串相应的节点,然后请求新的子串;
如果没有匹配,解析器将会在内部保存这个子串,然后继续请求新的子串直到内部保存的子串匹配了一个规则.
如果没有规则可以匹配,解析器将会报出一个异常,这意味着文档是不合法的,包含着一个语法错误.

很多时候解析树并不是最终的结果.在转换中经常使用解析--把文档转换成另一种格式.
有个例子是编译,负责把原代码编译成机器代码的编译器会先把文档解析成解析树,然后把解析树转换成机器代码的文档.


有两种基本类型的解析器--自上而下的和自下而上的解析器,直观的解释就是自上而下的解析器观察语法的整体结构然后尝试匹配,
  自下而上的解析器则是从低级别的规则开始直到符号高级别的规则,把式子逐步的转换成语法规则.

HTML的定义时DTD格式的,这种格式被用来定义SGML系列的语言,包含所有允许元素的定义、它们的属性和层次结构.
DTD有几种变化形式,strict模式完全的遵守规范,其他模式则支持早起浏览器用到的标记,这是为了向后和以前的内容兼容.

输出树--解析树是一个带有DOM元素和属性节点的树,DOM是文档对象模型的简称,
它是HTML文档的对象表示方式,也是HTML元素面向外部世界如javascript的接口.

树的根节点是Document对象